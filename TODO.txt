make socket operations non-blocking:
- move "running" state to TcpSocket class
- use while(running) loops and this_thread::sleep for sending and receiving messages and also when accepting connections